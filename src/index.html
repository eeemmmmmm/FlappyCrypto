<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flippy Flappy Crypto</title>
    <script type="module" src="/main.js"></script>
</head>
<body>
    <div class="sidebar">
        <h1 class="logo">FLIPPY<br>FLAPPY<br>CRYPTO</h1>
        
        <div class="wallet-container">
            <button id="connect-wallet" class="wallet-button">Connect EVM<br>Wallet</button>
            <div id="wallet-info" class="wallet-info">
                <span id="wallet-address">Not connected</span>
            </div>
        </div>
        
        <div class="score-container">
            <div class="score-row">
                <div class="score-label">Score</div>
                <div class="score-value" id="score">0</div>
            </div>
            <div class="score-row">
                <div class="eth-label">ETH</div>
                <div class="eth-value" id="eth">0</div>
            </div>
            <div class="score-row">
                <div class="distance-label">üìè Distance</div>
                <div class="distance-value" id="distance">0</div>
            </div>
            <div class="score-row shield-status-container" id="shield-status-container" style="display: none;">
                <div class="shield-label">üõ°Ô∏è Shield</div>
                <div class="shield-value" id="shield-time">0s</div>
            </div>
            <div class="score-row highscore-row">
                <div class="highscore-label">üèÜ Best</div>
                <div class="highscore-value" id="highscore">0</div>
            </div>
        </div>
        
        <div class="buttons-container">
            <button id="show-leaderboard" class="leaderboard-button">Leaderboard</button>
            <button id="start-button" class="start-button">Start Game</button>
            <button id="show-info" class="info-button">How to Play</button>
            <button id="night-mode-toggle" class="night-mode-button">üåô Night Mode</button>
        </div>
    </div>
    
    <div class="main-area">
        <!-- Starry background for the whole screen -->
        <div id="starry-background" class="starry-background"></div>
        
        <div class="game-container">
            <canvas id="game-canvas" width="320" height="480"></canvas>
            
            <!-- Combo display -->
            <div id="combo-container" class="combo-container">
                <div id="combo-count" class="combo-count">1x</div>
                <div class="combo-bar">
                    <div id="combo-bar-fill" class="combo-bar-fill"></div>
                </div>
            </div>
            
            <!-- Double points display -->
            <div id="double-points-container" class="double-points-container">
                <div class="double-points-icon">x2</div>
                <div id="double-points-time" class="double-points-time">10s</div>
                <div class="double-points-bar">
                    <div id="double-points-bar-fill" class="double-points-bar-fill"></div>
                </div>
            </div>
            
            <!-- Time indicator for slow motion -->
            <div class="time-indicator"></div>
            
            <div class="game-over" id="game-over">
                <h2>Game Over!</h2>
                <p>Your score: <span id="final-score">0</span></p>
                <p>ETH collected: <span id="eth-collected">0</span></p>
                <p>Distance traveled: <span id="distance-traveled">0</span>px</p>
                <div class="new-highscore" id="new-highscore" style="display: none;">
                    <p>üèÜ New High Score! üèÜ</p>
                </div>
                <button id="restart-button">Play Again</button>
                <button id="save-score" class="save-button">Save Results</button>
            </div>
        </div>
    </div>
    
    <div class="leaderboard" id="leaderboard">
        <h2>Top Players</h2>
        <button id="close-leaderboard" class="close-button">√ó</button>
        <div class="leaderboard-content">
            <table id="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Player</th>
                        <th>Score</th>
                        <th>ETH</th>
                        <th>Distance</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body">
                    <tr>
                        <td colspan="5">Loading...</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="your-best">
            <h3>Your Best Score</h3>
            <p id="your-best-score">Connect wallet to see your score</p>
        </div>
        <div class="local-highscore">
            <h3>Local High Score</h3>
            <p id="local-highscore">No local high score yet</p>
        </div>
    </div>

    <!-- Game Info Modal -->
    <div class="game-info" id="game-info">
        <div class="info-content">
            <button id="close-info" class="close-button">√ó</button>
            <h2>How to Play</h2>
            
            <div class="info-section">
                <h3>Controls</h3>
                <p>Click, tap or press <kbd>Space</kbd> to make your Ethereum token fly!</p>
                <p>Avoid the red pipes and obstacles to stay alive.</p>
            </div>
            
            <div class="info-section">
                <h3>Collectibles</h3>
                <div class="collectible-item">
                    <div class="collectible-icon eth-icon">üíé</div>
                    <div class="collectible-desc">
                        <strong>ETH Tokens</strong>
                        <p>Collect green diamonds to increase your ETH count.</p>
                    </div>
                </div>
                
                <div class="collectible-item">
                    <div class="collectible-icon shield-icon">üõ°Ô∏è</div>
                    <div class="collectible-desc">
                        <strong>Shield Power-up</strong>
                        <p>Blue shield icons grant temporary invincibility for 5 seconds!</p>
                    </div>
                </div>
                
                <div class="collectible-item">
                    <div class="collectible-icon double-points-icon">x2</div>
                    <div class="collectible-desc">
                        <strong>Double Points</strong>
                        <p>Pink x2 power-ups double your points for 10 seconds!</p>
                    </div>
                </div>
            </div>
            
            <div class="info-section">
                <h3>Special Features</h3>
                <div class="collectible-item">
                    <div class="collectible-icon combo-icon">üî•</div>
                    <div class="collectible-desc">
                        <strong>Combo System</strong>
                        <p>Collect ETH tokens quickly to build combos and earn bonus points!</p>
                    </div>
                </div>
                
                <div class="collectible-item">
                    <div class="collectible-icon slow-icon">‚è±Ô∏è</div>
                    <div class="collectible-desc">
                        <strong>Slow Motion</strong>
                        <p>Time slows down when you're near obstacles for precision control!</p>
                    </div>
                </div>
            </div>
            
            <div class="info-section">
                <h3>Obstacles</h3>
                <div class="collectible-item">
                    <div class="collectible-icon bear-icon">üêª</div>
                    <div class="collectible-desc">
                        <strong>Bear Market</strong>
                        <p>Red bear obstacles will crash your token!</p>
                    </div>
                </div>
                
                <div class="collectible-item">
                    <div class="collectible-icon bug-icon">üêû</div>
                    <div class="collectible-desc">
                        <strong>Bug</strong>
                        <p>Blue bug obstacles will also crash your token!</p>
                    </div>
                </div>
            </div>
            
            <div class="info-section">
                <h3>Scoring</h3>
                <p>Each pipe passed: +1 point</p>
                <p>Each ETH collected: +1 ETH</p>
                <p>Combo bonus: +1 point per combo level</p>
                <p>Double points: x2 points when active</p>
                <p>Try to get the highest score and save it to the blockchain!</p>
            </div>
            
            <button id="start-from-info" class="start-button">Start Game</button>
        </div>
    </div>

    <!-- Game logic is loaded through Vite entry (main.js) -->
</body>
</html> 
